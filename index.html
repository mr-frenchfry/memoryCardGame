<html>
<script>
    
	var imageselected = 0;
	var cats = [
		  ['bison1.png', 'blanka1.png','chunLi1.png', 'dhalsim1.png'],
		  ['chunLi.png', 'dhalsim.png','bison.png', 'blanka.png'],
          ['eHonda1.png', 'guile1.png','ken1.png', 'ryu1.png'],
          ['ken.png', 'ryu.png','eHonda.png', 'guile.png'],
        
          
	];
	
   
	var pic1Row;
	var pic1Col;
	var pic2Row;
	var pic2Col;
    


	var stat = new Array(4);

	function myFunction()
	{
		for (var i = 0; i < 4; i++) {
		    stat [i] = new Array(4);
		}
		stat[0][0] = 0;
		stat[0][1] = 0;
		stat[0][2] = 0;
		stat[0][3] = 0;
        stat[1][0] = 0;
		stat[1][1] = 0;
		stat[1][2] = 0;
		stat[1][3] = 0;

        stat[2][0] = 0;
		stat[2][1] = 0;
		stat[2][2] = 0;
		stat[2][3] = 0;
        stat[3][0] = 0;
		stat[3][1] = 0;
		stat[3][2] = 0;
		stat[3][3] = 0;

	}

	function HideMatchingCards()
	{
	
		imageID = pic1Row.toString()+pic1Col.toString();
		myImage = document.getElementById(imageID);
		myImage.src="images/blank.png";	
		var rr = pic2Row;
		var cc = pic2Col;
	


		imageID = rr.toString()+cc.toString();
		myImage = document.getElementById(imageID);
		myImage.src="images/blank.png";
		
		stat[pic1Row][pic1Col]=2;
		stat[pic2Row][pic2Col]=2;
        myWin = new sound("8d82b5_Street_Fighter_Win_Sound_Effect.mp3");
        for (row=0; row < 4; row++)
			{
				
                if (stat[0][0] >= 2 && 
                        stat[0][1] >= 2 && 
                        stat[0][2] >= 2 && 
                        stat[0][3] >= 2 && 
                        stat[1][0] >= 2 && 
                        stat[1][1] >= 2 && 
                        stat[1][2] >= 2 && 
                        stat[1][3] >= 2 && 
                
                        stat[2][0] >= 2 && 
                        stat[2][1] >= 2 && 
                        stat[2][2] >= 2 && 
                        stat[2][3] >= 2 && 
                        stat[3][0] >= 2 && 
                        stat[3][1] >= 2 && 
                        stat[3][2] >= 2 && 
                        stat[3][3] >= 2 )
                    
                    {
                        myWin.play();
                        alert("You win! Game over.")
                        return;
                    }  
                
            }


		
		
		pic1Col = 0;
		pic1Row = 0;
		pic2Row = 0;
		pic2Col = 0;

      
		
	}	

	function flipallcards()
	{
		stat[0][0] = 0;
		stat[0][1] = 0;
		stat[0][2] = 0;
		stat[0][3] = 0;
        stat[1][0] = 0;
		stat[1][1] = 0;
		stat[1][2] = 0;
		stat[1][3] = 0;

        stat[2][0] = 0;
		stat[2][1] = 0;
		stat[2][2] = 0;
		stat[2][3] = 0;
        stat[3][0] = 0;
		stat[3][1] = 0;
		stat[3][2] = 0;
		stat[3][3] = 0;

		imageID = pic1Row.toString()+pic1Col.toString();
		myImage = document.getElementById(imageID);
		myImage.src="images/back.png";	
		var rr = pic2Row;
		var cc = pic2Col;
		imageID = rr.toString()+cc.toString();
		myImage = document.getElementById(imageID);
		myImage.src="images/back.png";				
	}

	function Flip(r,c)
	{
		var pic1 = "";
		var pic2 = "";
		var myImage;
		var imageID;
		imageID = r+c;
		myImage = document.getElementById(imageID);
		row=parseInt(r);
		col=parseInt(c);
		myImage.src="images/" + cats[row][col];	
		stat[row][col] = 1;	
        myMatch = new sound("8d82b5_Street_Fighter_Perfect_Sound_Effect.mp3");
        mySound = new sound("8d82b5_Chun_Li_Laughing_Sound_Effect.mp3");
        myFlip = new sound("8d82b5_Street_Fighter_Choose_Sound_Effect.mp3");
       

		if (imageselected == 0)
		{
            myFlip.play();
			imageselected = 1;
            
		}		
		else
		{
			imageselected = 0;
			for (row=0; row < 4; row++)
			{
				for (col=0; col < 4; col++)
				{
					if (stat[row][col] == 1)
					{

						if (pic1=="")
						{
							pic1=cats[row][col];
							pic1Row = row;
							pic1Col = col;
						}
						else
						{
							pic2=cats[row][col];					
							if (    (pic1=="bison.png" && pic2=="bison1.png") ||
 								(pic1=="bison1.png" && pic2=="bison.png") ||

                                (pic1=="blanka.png" && pic2=="blanka1.png") ||
                                (pic1=="blanka1.png" && pic2=="blanka.png") ||

 								(pic1=="chunLi.png" && pic2=="chunLi1.png") ||
 								(pic1=="chunLi1.png" && pic2=="chunLi.png") ||

                                (pic1=="dhalsim.png" && pic2=="dhalsim1.png") ||
                                (pic1=="dhalsim1.png" && pic2=="dhalsim.png") ||

                                (pic1=="eHonda.png" && pic2=="eHonda1.png") ||
                                (pic1=="eHonda1.png" && pic2=="eHonda.png") ||

 								(pic1=="guile.png" && pic2=="guile1.png") ||
                                (pic1=="guile1.png" && pic2=="guile.png") ||

 								(pic1=="ken.png" && pic2=="ken1.png") ||
                                (pic1=="ken1.png" && pic2=="ken.png") ||

 								(pic1=="ryu.png" && pic2=="ryu1.png") ||
                                (pic1=="ryu1.png" && pic2=="ryu.png")

                                 
                                 )
							{
                                
								pic2Row = row;
								pic2Col = col;
								setTimeout(HideMatchingCards, 1000);
                                setTimeout(() => { alert('You found a match') }, 500)
                                myMatch.play();

							}
                        
                           
							else
							{
								pic2Row = row;
								pic2Col = col;
								setTimeout(flipallcards, 1000);
                                mySound.play();
							}
						}
					}
				}
			}		
		}	
	}
    function sound(src) {
    this.sound = document.createElement("audio");
    this.sound.src = src;
    this.sound.setAttribute("preload", "auto");
    this.sound.setAttribute("controls", "none");
    this.sound.style.display = "none";
    document.body.appendChild(this.sound);
    this.play = function(){
        this.sound.play();
    }
    this.stop = function(){
        this.sound.pause();
    }    
}
</script>
<body onload="myFunction()" style="background-color:#FFE4C4;">
    <h1 style ="font-style: italic;">Street Fighter Memory Game</h1>
<table border=3>
<tr>
    <td><img src="images/back.png" id="00" onclick="Flip('0','0');"> </td>
    <td><img src="images/back.png" id="01" onclick="Flip('0','1');"> </td>
    <tc>
        <td><img src="images/back.png" id="02" onclick="Flip('0','2');"> </td>
        <td><img src="images/back.png" id="03" onclick="Flip('0','3');"> </td>
    </tc>  
</tr>

<tr>
    <td><img src="images/back.png" id="10" onclick="Flip('1','0');"> </td>
    <td><img src="images/back.png" id="11" onclick="Flip('1','1');"> </td>
    <tc>
        <td><img src="images/back.png" id="12" onclick="Flip('1','2');"> </td>
        <td><img src="images/back.png" id="13" onclick="Flip('1','3');"> </td>
    </tc>  
</tr>


<tr>
    <td><img src="images/back.png" id="20" onclick="Flip('2','0');"> </td>
    <td><img src="images/back.png" id="21" onclick="Flip('2','1');"> </td>
    <tc>
        <td><img src="images/back.png" id="22" onclick="Flip('2','2');"> </td>
        <td><img src="images/back.png" id="23" onclick="Flip('2','3');"> </td>
    </tc>  
 </tr>
 <tr>
    <td><img src="images/back.png" id="30" onclick="Flip('3','0');"> </td>
    <td><img src="images/back.png" id="31" onclick="Flip('3','1');"> </td>
    <tc>
        <td><img src="images/back.png" id="32" onclick="Flip('3','2');"> </td>
        <td><img src="images/back.png" id="33" onclick="Flip('3','3');"> </td>
    </tc>  
</table>
</body>
</html>